

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Developer Documentation &#8212; RAT 1.0.0-beta documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devDocumentation';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://rascalsoftware.github.io/RAT-Docs/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="RAT 1.0.0-beta documentation - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="RAT 1.0.0-beta documentation - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="reference/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="support.html">
                        Support
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="reference/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="support.html">
                        Support
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Developer...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="developer-documentation">
<h1>Developer Documentation<a class="headerlink" href="#developer-documentation" title="Permalink to this heading">#</a></h1>
<p>This documentation is intended towards developers who wish to understand how RAT’s core workflow works and all the different components of the software.
The following picture shows the core workflow of RAT.</p>
<img alt="RAT's core workflow" src="_images/toolbox.png" />
<section id="unit-testing">
<h2>Unit Testing<a class="headerlink" href="#unit-testing" title="Permalink to this heading">#</a></h2>
<p>Unit Testing is the process of testing multiple individual pieces/features of the software. It helps to find bugs easily and quickly since each individual feature is tested
independently.</p>
<p>RAT’s unit tests are written in MATLAB using <code class="code docutils literal notranslate"><span class="pre">matlab.unittest</span></code> framework.
These unit tests are written to test the following set of functions:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="reference/matlab/targetFunctions.html#commonfunctions"><span class="std std-ref">Common Functions</span></a></p></li>
<li><p><span class="xref std std-ref">nonPolarisedTF</span></p></li>
<li><p><a class="reference internal" href="api.html#projectclass"><span class="std std-ref">Project Class</span></a></p></li>
<li><p><a class="reference internal" href="api.html#controlsclass"><span class="std std-ref">Controls Class</span></a></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the common function tests compare the <strong>stable output</strong> against the <strong>on-demand output</strong> of a function. This is done to make sure that the current function is behaving
as expected. On the contrary, all the nonPolarisedTF tests compare the MATLAB output against the MEX output. This is done to make sure and catch any unseen errors during
compiling the MEX file by MATLAB Coder.</p>
</div>
<p><strong>Stable output</strong> = This is the output of a certain function obtained when the function is working as expected.</p>
<p><strong>On-demand output</strong> = This is the output of a certain function at the moment. So, that current function can be tested against the stable one.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Despite tests being written in MATLAB, RAT’s unit tests also test the C++ code of RAT in a way.
This is achieved through comparing the outputs of mex and matlab versions of all the possible parallelization of nonPolarisedTF.reflectivityCalculation.
This includes the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>nonPolarisedTF.customLayers (Single, Points and Contrast)</p></li>
<li><p>nonPolarisedTF.customXY (Single, Points and Contrast)</p></li>
<li><p>nonPolarisedTF.standardLayers (Single, Points and Contrast)</p></li>
</ol>
</div></blockquote>
</div>
<section id="custom-layers-functionality">
<h3>Custom Layers Functionality<a class="headerlink" href="#custom-layers-functionality" title="Permalink to this heading">#</a></h3>
<p>RAT allows users to create their own custom models and use them in the reflectivity calculations. RAT currently supports C++ and MATLAB custom models meaning users can upload
their model in the form of a function in MATLAB. However, there is a slight complication with the C++.</p>
<p>In order, to use the custom C++ model, the user needs to compile the function into a shared library (preferably using GCC) and then provide the path and name of the function inside the shared library to RAT.
The following guide will help the user to do this.</p>
</section>
<section id="how-does-c-custom-model-work">
<h3>How does C++ custom model work?<a class="headerlink" href="#how-does-c-custom-model-work" title="Permalink to this heading">#</a></h3>
<p>The implementation of the custom C++ model functionality is bit complicated but the idea is simple. For sake of explanation, DLL and dynamic library are interchangeably used here.</p>
<ol class="arabic">
<li><p>The user submits a DLL file that has the custom C++ model in the form of a function. Our job is to get that function so we can run with the arguments from RAT. In order to <em>get</em>
the file we used an open-source project called <a class="reference external" href="https://github.com/martin-olivier/dylib/">dylib</a>. dylib helps us extract the function from the DLL at runtime which means we can use the function at runtime.</p></li>
<li><p>When the users makes the DLL, they put the <em>DYLIB_API</em> macro at the beginning of the function which exports the function.</p></li>
<li><p>There is a class called <em>libManager.h</em> in <em>RAT/targetFunctions/common/loopCppCustlayWrapper</em> directory which opens a DLL and extracts the function when given the
path to the DLL. Then runs the function with the arguments from RAT. This the C++ side of the implementation</p></li>
<li><p>We need a gateway that allows MATLAB inputs to go into the C++ side of the code. This is done by creating a MEX function using MATLAB Coder. The file <em>testDLL.m</em> is compiled by
Matlab Coder.</p>
<p>This file basically passes the inputs from MATLAB Workspace to the function from <em>libManager.h</em> which runs those inputs/arguments on the function from the DLL.</p>
</li>
<li><p>As soon the we pass and compute the results comeback into the MATLAB workspace.</p></li>
</ol>
<p>The above explanation holds true for the case of MATLAB version of RAT. If this feature is being used in the compiled version of RAT (i.e setting reflectivity_calculation_wrapper case to <strong>mex</strong>),
there’s a case statement that will treat testDLL_mex as an extrinsic function and not a MEX function as per the guidelines of MATLAB Coder.</p>
</section>
<section id="how-to-create-a-custom-c-model">
<h3>How to create a custom C++ model<a class="headerlink" href="#how-to-create-a-custom-c-model" title="Permalink to this heading">#</a></h3>
<p>1. First Step is to make sure your cpp file is error-free and follow the guidelines mentioned in this step. Your cpp file should contain your custom model and
custom model should be a function. In order for RAT to fetch your custom model/function, it needs to be exported. So, you have to get <a class="reference external" href="https://github.com/martin-olivier/dylib/releases/download/v1.8.2/dylib.hpp">dylib.hpp</a> here and put <strong>DYLIB_API</strong>
macro in front of the function name.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DYLIB_API</span> <span class="n">void</span> <span class="n">myCustomFunction</span><span class="p">(</span><span class="n">double</span> <span class="o">*</span><span class="n">params</span><span class="o">...</span><span class="n">etc</span><span class="o">....</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Now that you have put DYLIB_API in front of the dependencies. It is time to make a dynamic library of your model. To do this, you must follow platform specific instructions below.</p></li>
</ol>
<p>Lets say your file is called <strong>myModel.cpp</strong> and your function is called <strong>myCustomFunction</strong></p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">How to compile a shared library on Windows</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Windows - DLL</strong></p>
<p class="sd-card-text"><strong>Prerequisites</strong>: MinGW or Microsoft Visual Studio Compiler (MSVC) but GCC is strongly suggested</p>
<p class="sd-card-text"><strong>GCC</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>g++<span class="w"> </span>-c<span class="w"> </span>myModel.cpp<span class="w"> </span>-o<span class="w"> </span>myModel.o<span class="w">   </span>Generate<span class="w"> </span>an<span class="w"> </span>object<span class="w"> </span>file
g++<span class="w"> </span>-shared<span class="w"> </span>myModel.o<span class="w"> </span>-o<span class="w"> </span>myModel.dll<span class="w">  </span>outputs<span class="w"> </span>a<span class="w"> </span>DLL<span class="w"> </span>named<span class="w"> </span>myModel.dll
</pre></div>
</div>
<p class="sd-card-text"><strong>MSVC (Microsoft Visual Studio Compiler)</strong></p>
<p class="sd-card-text">Open <em>Developer Command Prompt for Visual Studio</em></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cl.exe<span class="w"> </span>/LD<span class="w"> </span>myModel.cpp<span class="w"> </span>/EHsc<span class="w">   </span>You<span class="w"> </span>should<span class="w"> </span>see<span class="w"> </span>myModel.dll<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>directory
</pre></div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">How to compile a shared library on Linux/IDAAS</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Linux/IDAAS  - .so</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>g++<span class="w"> </span>-c<span class="w"> </span>myModel.cpp<span class="w"> </span>-o<span class="w"> </span>myModel.o<span class="w"> </span>-std<span class="o">=</span>c++11<span class="w">  </span>Generate<span class="w"> </span>an<span class="w"> </span>object<span class="w"> </span>file
g++<span class="w"> </span>-shared<span class="w"> </span>myModel.o<span class="w"> </span>-o<span class="w"> </span>myModel.so<span class="w">  </span>outputs<span class="w"> </span>a<span class="w"> </span>.so<span class="w"> </span>named<span class="w"> </span>myModel.so
</pre></div>
</div>
</div>
</details></section>
</section>
<section id="additional-documentation">
<h2>Additional Documentation<a class="headerlink" href="#additional-documentation" title="Permalink to this heading">#</a></h2>
<p>This documentation is very detailed in terms of code. It contains direct links to definitions of functions involved and is helpful for developers
who want to understand how RAT works in more detail.</p>
<p>The following documentation shows code along with visualizations.
Click on the link below to see the code.</p>
<p><a class="reference external" href="./api_reference/index.html">Additional Documentation</a></p>
<section id="dependency-graph">
<h3>Dependency Graph<a class="headerlink" href="#dependency-graph" title="Permalink to this heading">#</a></h3>
<p>The following picture shows the dependency graph of RAT. The dependency graph is a graph that shows how the different components of RAT work together.
Click on the nodes to see the documentation of the component.</p>
<p>Click on the “Graph” to see the dependency graph.</p>
<p><a class="reference external" href="./api_reference/graph.html">Graph</a></p>
</section>
</section>
<section id="devops">
<h2>DevOps<a class="headerlink" href="#devops" title="Permalink to this heading">#</a></h2>
<p>DevOps is extremely important for any software that needs faster deployments and easier maintenance of existing deployments and RAT is exactly that.</p>
<section id="jenkins">
<h3>Jenkins<a class="headerlink" href="#jenkins" title="Permalink to this heading">#</a></h3>
<img alt="https://th.bing.com/th/id/OIP.GKIe0tehC6rMKoG86wMkewHaFb?w=266&amp;h=193&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7" src="https://th.bing.com/th/id/OIP.GKIe0tehC6rMKoG86wMkewHaFb?w=266&amp;h=193&amp;c=7&amp;r=0&amp;o=5&amp;pid=1.7" />
<p><a class="reference external" href="https://jenkins.io/">Jenkins</a> is a famous automation tool that automates building, testing and deploying. At the moment, it is used for building and testing but the deployments could be automated as well.
At STFC, there is a platform called Anvil (not be confused with Anvil the web development tool). Anvil is a service that hosts Jenkins instances for various teams across the STFC’s intranet.
This is managed by <strong>Alan Kyffin</strong>.</p>
</section>
<section id="stfc-cloud">
<h3>STFC Cloud<a class="headerlink" href="#stfc-cloud" title="Permalink to this heading">#</a></h3>
<p>RAT owns two nodes/machines( Windows and Linux) in the cloud which are connected to Anvil. They help build,test the RAT in different operating systems.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These nodes must be manually logged in if there’s any disruption in the STFC network (happens usually during updates/network-wide shutdowns).
In order to connect the nodes to Anvil, a command is used. This command can be obtained from Arwel Hughes.</p>
</div>
<section id="contacts">
<h4>Contacts<a class="headerlink" href="#contacts" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Issues with Linux node - Alexander Dibbo</p></li>
<li><p>Issues with Windows node - Simon Hodder (usually someone on his team will help)</p></li>
</ol>
</section>
</section>
<section id="work-flow">
<h3>Work Flow<a class="headerlink" href="#work-flow" title="Permalink to this heading">#</a></h3>
<p>This section details how everything works together in the DevOps department.</p>
<ol class="arabic simple">
<li><p>First, there is GitHub repository at <a class="reference external" href="https://github.com/arwelHughes/RAT">RAT</a> which is source for all of the DevOps. Every time, there’s a Pull Request (PR) or a push, Jenkins gets triggered. This is achieved
using the Anvil Github App that recognizes these changes and initiates builds.</p></li>
<li><p>When Jenkins gets triggered, usually it builds according to the “Jenkinsfile” in the repository.”Jenkinsfile” is a file that contains the instructions for Jenkins to build the project. Jenkins sends these commands to the nodes in the cloud and build/tests the project.
If the build/test is successful, the PR or push is successful and the PR/push is merged. If the build/test is unsuccessful, the PR/push must be reviewed.</p></li>
</ol>
</section>
<section id="references-for-developers">
<h3>References for Developers<a class="headerlink" href="#references-for-developers" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Checkout the <a class="reference internal" href="ADR.html#adr"><span class="std std-ref">Architectural Decision Records</span></a> (ADR) for RAT. This document contains all the decisions made in the past and why they were made.
This can be found in RasCal Planner in Microsoft Planner.</p></li>
</ol>
</section>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unit-testing">Unit Testing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-layers-functionality">Custom Layers Functionality</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-c-custom-model-work">How does C++ custom model work?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-create-a-custom-c-model">How to create a custom C++ model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-documentation">Additional Documentation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dependency-graph">Dependency Graph</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#devops">DevOps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jenkins">Jenkins</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stfc-cloud">STFC Cloud</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#contacts">Contacts</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#work-flow">Work Flow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#references-for-developers">References for Developers</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/devDocumentation.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2022-2024, ISIS Neutron and Muon Source.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>